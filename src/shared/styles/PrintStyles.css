/**
 * STUDENT ANALYST - Professional Print Styles
 * Optimized for financial reports and analysis printing
 */

/* ==== PRINT ROOT VARIABLES ==== */
@media print {
  :root {
    /* Print-optimized colors */
    --print-black: #000000;
    --print-dark-gray: #333333;
    --print-medium-gray: #666666;
    --print-light-gray: #999999;
    --print-border: #cccccc;
    --print-background: #ffffff;
    
    /* Print typography */
    --print-font-base: 11pt;
    --print-font-small: 9pt;
    --print-font-large: 14pt;
    --print-font-title: 18pt;
    --print-line-height: 1.4;
    
    /* Print spacing */
    --print-margin: 0.5in;
    --print-margin-large: 1in;
    --print-spacing-small: 6pt;
    --print-spacing-medium: 12pt;
    --print-spacing-large: 18pt;
  }

  /* ==== GLOBAL PRINT RESETS ==== */
  * {
    -webkit-print-color-adjust: exact !important;
    color-adjust: exact !important;
    print-color-adjust: exact !important;
  }

  html, body {
    background: var(--print-background) !important;
    color: var(--print-black) !important;
    font-family: 'Times New Roman', 'Georgia', serif !important;
    font-size: var(--print-font-base) !important;
    line-height: var(--print-line-height) !important;
    margin: 0 !important;
    padding: 0 !important;
    width: 100% !important;
    height: auto !important;
  }

  /* ==== PAGE SETUP ==== */
  @page {
    size: A4 portrait;
    margin: var(--print-margin);
    
    @top-left {
      content: "Student Analyst Report";
      font-size: var(--print-font-small);
      color: var(--print-medium-gray);
    }
    
    @top-right {
      content: date(iso);
      font-size: var(--print-font-small);
      color: var(--print-medium-gray);
    }
    
    @bottom-center {
      content: "Page " counter(page) " of " counter(pages);
      font-size: var(--print-font-small);
      color: var(--print-medium-gray);
    }
    
    @bottom-right {
      content: "Generated by Student Analyst";
      font-size: var(--print-font-small);
      color: var(--print-light-gray);
    }
  }

  /* ==== HIDE NON-PRINTABLE ELEMENTS ==== */
  .no-print,
  .print-hidden,
  nav,
  .navigation,
  .sidebar,
  .header-btn,
  .quick-action-btn,
  .floating-panel,
  .command-palette-overlay,
  .shortcuts-overlay,
  .desktop-header,
  .mobile-header,
  .tablet-header,
  button:not(.print-visible),
  .controls-header,
  .tab-navigation,
  .zoom-controls,
  .shortcuts-hint,
  .resize-indicator,
  .tooltip,
  .modal,
  .dropdown,
  .popup,
  input[type="range"],
  video,
  audio,
  iframe {
    display: none !important;
  }

  /* ==== SHOW PRINT-SPECIFIC ELEMENTS ==== */
  .print-only,
  .print-visible {
    display: block !important;
  }

  .print-inline {
    display: inline !important;
  }

  .print-table {
    display: table !important;
  }

  .print-table-row {
    display: table-row !important;
  }

  .print-table-cell {
    display: table-cell !important;
  }

  /* ==== LAYOUT ADJUSTMENTS ==== */
  .desktop-content,
  .tablet-content,
  .mobile-content {
    margin: 0 !important;
    padding: 0 !important;
    width: 100% !important;
    max-width: none !important;
  }

  .desktop-main,
  .tablet-main,
  .mobile-main {
    margin: 0 !important;
    padding: 0 !important;
    width: 100% !important;
  }

  .main-content {
    margin: 0 !important;
    padding: var(--print-spacing-medium) !important;
    width: 100% !important;
    max-width: none !important;
  }

  /* ==== TYPOGRAPHY ==== */
  h1, .h1 {
    font-size: var(--print-font-title) !important;
    font-weight: bold !important;
    color: var(--print-black) !important;
    margin: 0 0 var(--print-spacing-large) 0 !important;
    page-break-after: avoid !important;
    break-after: avoid !important;
  }

  h2, .h2 {
    font-size: var(--print-font-large) !important;
    font-weight: bold !important;
    color: var(--print-black) !important;
    margin: var(--print-spacing-large) 0 var(--print-spacing-medium) 0 !important;
    page-break-after: avoid !important;
    break-after: avoid !important;
  }

  h3, .h3 {
    font-size: var(--print-font-base) !important;
    font-weight: bold !important;
    color: var(--print-dark-gray) !important;
    margin: var(--print-spacing-medium) 0 var(--print-spacing-small) 0 !important;
    page-break-after: avoid !important;
    break-after: avoid !important;
  }

  h4, h5, h6 {
    font-size: var(--print-font-base) !important;
    font-weight: bold !important;
    color: var(--print-dark-gray) !important;
    margin: var(--print-spacing-small) 0 var(--print-spacing-small) 0 !important;
    page-break-after: avoid !important;
    break-after: avoid !important;
  }

  p, .text {
    font-size: var(--print-font-base) !important;
    color: var(--print-black) !important;
    margin: 0 0 var(--print-spacing-small) 0 !important;
    line-height: var(--print-line-height) !important;
  }

  .text-small {
    font-size: var(--print-font-small) !important;
  }

  .text-large {
    font-size: var(--print-font-large) !important;
  }

  /* ==== TABLES ==== */
  table {
    width: 100% !important;
    border-collapse: collapse !important;
    margin: var(--print-spacing-medium) 0 !important;
    page-break-inside: avoid !important;
    break-inside: avoid !important;
  }

  thead {
    display: table-header-group !important;
  }

  tfoot {
    display: table-footer-group !important;
  }

  tbody {
    display: table-row-group !important;
  }

  tr {
    page-break-inside: avoid !important;
    break-inside: avoid !important;
  }

  th {
    background: var(--print-light-gray) !important;
    color: var(--print-black) !important;
    font-weight: bold !important;
    font-size: var(--print-font-small) !important;
    padding: 4pt 6pt !important;
    border: 1pt solid var(--print-border) !important;
    text-align: left !important;
  }

  td {
    color: var(--print-black) !important;
    font-size: var(--print-font-small) !important;
    padding: 4pt 6pt !important;
    border: 1pt solid var(--print-border) !important;
    vertical-align: top !important;
  }

  /* ==== FINANCIAL DATA STYLING ==== */
  .positive,
  .profit,
  .gain {
    color: var(--print-black) !important;
    font-weight: bold !important;
  }

  .positive::before,
  .profit::before,
  .gain::before {
    content: "+" !important;
  }

  .negative,
  .loss {
    color: var(--print-black) !important;
    font-weight: bold !important;
  }

  .negative::after,
  .loss::after {
    content: " â†“" !important;
  }

  .currency {
    font-family: 'Courier New', monospace !important;
    font-weight: bold !important;
  }

  .percentage {
    font-weight: bold !important;
  }

  /* ==== CARDS AND CONTAINERS ==== */
  .card,
  .metric-card,
  .risk-card,
  .stock-card {
    background: var(--print-background) !important;
    border: 1pt solid var(--print-border) !important;
    border-radius: 0 !important;
    box-shadow: none !important;
    margin: var(--print-spacing-small) 0 !important;
    padding: var(--print-spacing-small) !important;
    page-break-inside: avoid !important;
    break-inside: avoid !important;
  }

  /* ==== GRID LAYOUTS ==== */
  .grid,
  .portfolio-metrics,
  .risk-metrics,
  .market-grid {
    display: block !important;
  }

  .grid > *,
  .portfolio-metrics > *,
  .risk-metrics > *,
  .market-grid > * {
    display: block !important;
    width: 100% !important;
    margin: var(--print-spacing-small) 0 !important;
    page-break-inside: avoid !important;
    break-inside: avoid !important;
  }

  /* ==== CHARTS AND IMAGES ==== */
  canvas,
  img,
  svg {
    max-width: 100% !important;
    height: auto !important;
    page-break-inside: avoid !important;
    break-inside: avoid !important;
    border: 1pt solid var(--print-border) !important;
  }

  .chart-container,
  .chart-main {
    width: 100% !important;
    margin: var(--print-spacing-medium) 0 !important;
    page-break-inside: avoid !important;
    break-inside: avoid !important;
  }

  .chart-placeholder {
    background: var(--print-background) !important;
    border: 1pt solid var(--print-border) !important;
    padding: var(--print-spacing-medium) !important;
    text-align: center !important;
  }

  .chart-placeholder::after {
    content: "[Chart: " attr(data-chart-type) " for " attr(data-symbol) "]" !important;
    font-style: italic !important;
    color: var(--print-medium-gray) !important;
  }

  /* ==== PAGE BREAKS ==== */
  .page-break-before {
    page-break-before: always !important;
    break-before: page !important;
  }

  .page-break-after {
    page-break-after: always !important;
    break-after: page !important;
  }

  .page-break-inside-avoid {
    page-break-inside: avoid !important;
    break-inside: avoid !important;
  }

  .page-break-avoid {
    page-break-before: avoid !important;
    page-break-after: avoid !important;
    page-break-inside: avoid !important;
    break-before: avoid !important;
    break-after: avoid !important;
    break-inside: avoid !important;
  }

  /* ==== SECTION BREAKS ==== */
  .section {
    margin: var(--print-spacing-large) 0 !important;
    page-break-inside: avoid !important;
    break-inside: avoid !important;
  }

  .section-break {
    page-break-before: always !important;
    break-before: page !important;
  }

  .subsection {
    margin: var(--print-spacing-medium) 0 !important;
  }

  /* ==== PORTFOLIO SPECIFIC ==== */
  .portfolio-overview {
    page-break-before: avoid !important;
    break-before: avoid !important;
  }

  .portfolio-table {
    page-break-inside: avoid !important;
    break-inside: avoid !important;
    margin: var(--print-spacing-medium) 0 !important;
  }

  .holdings-summary {
    page-break-before: avoid !important;
    break-before: avoid !important;
  }

  /* ==== RISK ANALYSIS ==== */
  .risk-analysis {
    page-break-before: always !important;
    break-before: page !important;
  }

  .risk-breakdown {
    page-break-inside: avoid !important;
    break-inside: avoid !important;
  }

  /* ==== MARKET RESEARCH ==== */
  .market-research {
    page-break-before: always !important;
    break-before: page !important;
  }

  .stock-analysis {
    page-break-inside: avoid !important;
    break-inside: avoid !important;
  }

  /* ==== FOOTER INFORMATION ==== */
  .print-footer {
    margin-top: var(--print-spacing-large) !important;
    padding-top: var(--print-spacing-small) !important;
    border-top: 1pt solid var(--print-border) !important;
    font-size: var(--print-font-small) !important;
    color: var(--print-medium-gray) !important;
    text-align: center !important;
  }

  .disclaimer {
    font-size: var(--print-font-small) !important;
    color: var(--print-medium-gray) !important;
    font-style: italic !important;
    margin: var(--print-spacing-medium) 0 !important;
    text-align: justify !important;
  }

  /* ==== PRINT UTILITIES ==== */
  .print-landscape {
    /* Note: Requires JS to change @page size */
    transform: rotate(90deg) !important;
  }

  .print-portrait {
    /* Default orientation */
  }

  .print-full-width {
    width: 100% !important;
    margin: 0 !important;
  }

  .print-center {
    text-align: center !important;
  }

  .print-left {
    text-align: left !important;
  }

  .print-right {
    text-align: right !important;
  }

  .print-justify {
    text-align: justify !important;
  }

  /* ==== ACCESSIBILITY IN PRINT ==== */
  .sr-only {
    position: static !important;
    width: auto !important;
    height: auto !important;
    overflow: visible !important;
    clip: auto !important;
    white-space: normal !important;
  }

  /* ==== PRINT DEBUGGING ==== */
  .print-debug {
    border: 2pt dashed var(--print-border) !important;
    position: relative !important;
  }

  .print-debug::before {
    content: attr(class) !important;
    position: absolute !important;
    top: -15pt !important;
    left: 0 !important;
    font-size: 8pt !important;
    color: var(--print-medium-gray) !important;
    background: var(--print-background) !important;
    padding: 2pt !important;
  }

  /* ==== PERFORMANCE OPTIMIZATIONS ==== */
  * {
    box-shadow: none !important;
    text-shadow: none !important;
    background-image: none !important;
    transform: none !important;
    animation: none !important;
    transition: none !important;
  }

  /* ==== BROWSER SPECIFIC FIXES ==== */
  
  /* Chrome/Edge */
  @media print and (-webkit-min-device-pixel-ratio: 0) {
    body {
      -webkit-print-color-adjust: exact !important;
    }
  }

  /* Firefox */
  @-moz-document url-prefix() {
    body {
      color-adjust: exact !important;
    }
  }

  /* Safari */
  @media print and (orientation: portrait) {
    @page {
      size: A4 portrait;
    }
  }

  @media print and (orientation: landscape) {
    @page {
      size: A4 landscape;
    }
  }
} 